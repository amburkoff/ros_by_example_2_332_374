# 11.28.4 Обратная кинематика на настоящей руке

Перед запуском вашей копии сценария `moveit_ik_demo.py`, убедитесь  в том, что выбрана целевая позиция для end-effector, достижимая захватом вашего робота. Вспомните что в изначальном сценарии позиция цели определялась в блоке: 

```python
target_pose = PoseStamped() 
target_pose.header.frame_id = reference_frame     
target_pose.header.stamp = rospy.Time.now()
target_pose.pose.position.x = 0.20
target_pose.pose.position.y = -0.1
target_pose.pose.position.z = 0.85
target_pose.pose.orientation.x = 0.0
target_pose.pose.orientation.y = 0.0
target_pose.pose.orientation.z = 0.0
target_pose.pose.orientation.w = 1.0
```

 Эта поза на 85см выше `base_footprint`, на 20см дальше центра и на 10см правее центра. Эти числа должны быть изменены чтобы создать позицию, доступную для руки и захвата вашего робота. Один из способов это сделать:

* убедитесь что сервоприводы руки находятся в расслабленном состоянии. Если вы используете пакет ArbotiX, вы можете запустить сценарий `arbotix_relax_all_servos.py`
* расположите захват вручную в желаемую позицию и с желаемой ориентацией
* запустите сценарий `get_arm_pose.py`, представленный нами ранее 

```bash
$ rosrun rbx2_arm_nav  
```

Теперь вы можете отпустить руку и увидеть желаемую позицию и ориентацию на экране. Скопируйте и вставьте эти значения в ваш сценарий.

Как и в предыдущем разделе, лучшим вариантом будет сначала протестировать все с симулируемой версией вашего робота либо используя файл MoveIt! `demo.launch` для вашего робота , либо в ArbotiX симуляторе с конфигурационным файлом, настроенном под вашего робота.

Когда вы будете готовы, можете запустить сценарий таким же образом с настоящим роботом. В случае Pi Robot мы запустим: 

```bash
$ rosrun rbx2_arm_nav moveit_ik_demo.py 
```

После прохождения всех шагов, расслабьте сервоприводы: 

```bash
$ rosrun rbx2_dynamixels arbotix_relax_all_servos.py 
```



